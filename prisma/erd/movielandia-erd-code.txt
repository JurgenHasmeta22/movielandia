// title
title Media Platform Data Model

// define tables
Actor [icon: user, color: yellow] {
  id Int pk
  fullname String
  photoSrc String
  photoSrcProd String
  description String
  debut String
}

ActorReview [icon: file-text, color: lightblue] {
  id Int pk
  content String
  rating Float?
  createdAt DateTime
  updatedAt DateTime?
  userId Int
  actorId Int
}

UpvoteActorReview [icon: thumbs-up, color: green] {
  id Int pk
  userId Int
  actorId Int
  actorReviewId Int
}

DownvoteActorReview [icon: thumbs-down, color: red] {
  id Int pk
  userId Int
  actorId Int
  actorReviewId Int
}

Account [icon: credit-card, color: purple] {
  id String pk
  userId Int
  type String
  provider String
  providerAccountId String
  refresh_token String?
  access_token String?
  expires_at Int?
  token_type String?
  scope String?
  id_token String?
  session_state String?
}

Session [icon: clock, color: orange] {
  id String pk
  sessionToken String
  userId Int
  expires DateTime
}

VerificationToken [icon: key, color: teal] {
  identifier String
  token String
  expires DateTime
}

Crew [icon: users, color: blue] {
  id Int pk
  fullname String
  photoSrc String
  role String
  photoSrcProd String
  description String
  debut String
}

CrewReview [icon: file-text, color: lightblue] {
  id Int pk
  content String
  rating Float?
  createdAt DateTime
  updatedAt DateTime?
  userId Int
  crewId Int
}

UpvoteCrewReview [icon: thumbs-up, color: green] {
  id Int pk
  userId Int
  crewId Int
  crewReviewId Int
}

DownvoteCrewReview [icon: thumbs-down, color: red] {
  id Int pk
  userId Int
  crewId Int
  crewReviewId Int
}

Episode [icon: video, color: pink] {
  id Int pk
  title String
  photoSrc String
  photoSrcProd String
  trailerSrc String
  description String
  duration Int
  dateAired String
  ratingImdb Float
  seasonId Int
}

EpisodeReview [icon: file-text, color: lightblue] {
  id Int pk
  content String
  rating Float?
  createdAt DateTime
  updatedAt DateTime?
  userId Int
  episodeId Int
}

UpvoteEpisodeReview [icon: thumbs-up, color: green] {
  id Int pk
  userId Int
  episodeId Int
  episodeReviewId Int
}

DownvoteEpisodeReview [icon: thumbs-down, color: red] {
  id Int pk
  userId Int
  episodeId Int
  episodeReviewId Int
}

Genre [icon: tag, color: brown] {
  id Int pk
  name String
}

Movie [icon: film, color: cyan] {
  id Int pk
  title String
  photoSrc String
  photoSrcProd String
  trailerSrc String
  duration Int
  ratingImdb Float
  dateAired String
  description String
}

MovieReview [icon: file-text, color: lightblue] {
  id Int pk
  content String
  rating Float?
  createdAt DateTime
  updatedAt DateTime?
  userId Int
  movieId Int
}

UpvoteMovieReview [icon: thumbs-up, color: green] {
  id Int pk
  userId Int
  movieId Int
  movieReviewId Int
}

DownvoteMovieReview [icon: thumbs-down, color: red] {
  id Int pk
  userId Int
  movieId Int
  movieReviewId Int
}

CastMovie [icon: user-check, color: lightgreen] {
  id Int pk
  movieId Int
  actorId Int
}

CrewMovie [icon: user-check, color: lightgreen] {
  id Int pk
  movieId Int
  crewId Int
}

MovieGenre [icon: tag, color: brown] {
  id Int pk
  movieId Int
  genreId Int
}

Season [icon: layers, color: violet] {
  id Int pk
  title String
  photoSrc String
  photoSrcProd String
  trailerSrc String
  description String
  dateAired String
  ratingImdb Float
  serieId Int
}

SeasonReview [icon: file-text, color: lightblue] {
  id Int pk
  content String
  rating Float?
  createdAt DateTime
  updatedAt DateTime?
  userId Int
  seasonId Int
}

UpvoteSeasonReview [icon: thumbs-up, color: green] {
  id Int pk
  userId Int
  seasonId Int
  seasonReviewId Int
}

DownvoteSeasonReview [icon: thumbs-down, color: red] {
  id Int pk
  userId Int
  seasonId Int
  seasonReviewId Int
}

Serie [icon: tv, color: magenta] {
  id Int pk
  title String
  photoSrc String
  photoSrcProd String
  trailerSrc String
  description String
  dateAired String
  ratingImdb Float
}

SerieReview [icon: file-text, color: lightblue] {
  id Int pk
  content String
  rating Float?
  createdAt DateTime
  updatedAt DateTime?
  userId Int
  serieId Int
}

UpvoteSerieReview [icon: thumbs-up, color: green] {
  id Int pk
  userId Int
  serieId Int
  serieReviewId Int
}

DownvoteSerieReview [icon: thumbs-down, color: red] {
  id Int pk
  userId Int
  serieId Int
  serieReviewId Int
}

SerieGenre [icon: tag, color: brown] {
  id Int pk
  serieId Int
  genreId Int
}

CastSerie [icon: user-check, color: lightgreen] {
  id Int pk
  serieId Int
  actorId Int
}

CrewSerie [icon: user-check, color: lightgreen] {
  id Int pk
  serieId Int
  crewId Int
}

User [icon: user, color: yellow] {
  id Int pk
  userName String
  email String
  password String?
  role String
  bio String
  active Boolean
  canResetPassword Boolean
  subscribed Boolean
}

ActivateToken [icon: key, color: teal] {
  id Int pk
  token String
  createdAt DateTime
  activatedAt DateTime?
  userId Int
}

ResetPasswordToken [icon: key, color: teal] {
  id Int pk
  token String
  createdAt DateTime
  resetPasswordAt DateTime?
  userId Int
}

Avatar [icon: image, color: grey] {
  id Int pk
  photoSrc String
  userId Int
}

UserFollow [icon: user-plus, color: lightblue] {
  id Int pk
  state String
  followerId Int
  followingId Int
}

UserInbox [icon: inbox, color: lightblue] {
  id Int pk
  userId Int
  inboxId Int
}

Inbox [icon: mail, color: lightblue] {
  id Int pk
}

Message [icon: message-circle, color: lightblue] {
  id Int pk
  text String
  senderId Int
  receiverId Int
  inboxId Int
  createdAt DateTime
  read Boolean
  editedAt DateTime?
}

UserMovieRating [icon: star, color: gold] {
  id Int pk
  rating Float
  userId Int
  movieId Int
}

UserSerieRating [icon: star, color: gold] {
  id Int pk
  rating Float
  userId Int
  serieId Int
}

UserSeasonRating [icon: star, color: gold] {
  id Int pk
  rating Float
  userId Int
  seasonId Int
}

UserEpisodeRating [icon: star, color: gold] {
  id Int pk
  rating Float
  userId Int
  episodeId Int
}

UserActorRating [icon: star, color: gold] {
  id Int pk
  rating Float
  userId Int
  actorId Int
}

UserCrewRating [icon: star, color: gold] {
  id Int pk
  rating Float
  userId Int
  crewId Int
}

UserMovieFavorite [icon: heart, color: red] {
  id Int pk
  userId Int
  movieId Int
}

UserGenreFavorite [icon: heart, color: red] {
  id Int pk
  userId Int
  genreId Int
}

UserSerieFavorite [icon: heart, color: red] {
  id Int pk
  userId Int
  serieId Int
}

UserEpisodeFavorite [icon: heart, color: red] {
  id Int pk
  userId Int
  episodeId Int
}

UserSeasonFavorite [icon: heart, color: red] {
  id Int pk
  userId Int
  seasonId Int
}

UserActorFavorite [icon: heart, color: red] {
  id Int pk
  userId Int
  actorId Int
}

UserCrewFavorite [icon: heart, color: red] {
  id Int pk
  userId Int
  crewId Int
}

Notification [icon: bell, color: orange] {
  id Int pk
  type String
  content String
  userId Int
  senderId Int
  status String
  createdAt DateTime
}

// define relationships
ActorReview.userId > User.id
ActorReview.actorId > Actor.id
UpvoteActorReview.userId > User.id
UpvoteActorReview.actorId > Actor.id
UpvoteActorReview.actorReviewId > ActorReview.id
DownvoteActorReview.userId > User.id
DownvoteActorReview.actorId > Actor.id
DownvoteActorReview.actorReviewId > ActorReview.id
Account.userId > User.id
Session.userId > User.id
CrewReview.userId > User.id
CrewReview.crewId > Crew.id
UpvoteCrewReview.userId > User.id
UpvoteCrewReview.crewId > Crew.id
UpvoteCrewReview.crewReviewId > CrewReview.id
DownvoteCrewReview.userId > User.id
DownvoteCrewReview.crewId > Crew.id
DownvoteCrewReview.crewReviewId > CrewReview.id
Episode.seasonId > Season.id
EpisodeReview.userId > User.id
EpisodeReview.episodeId > Episode.id
UpvoteEpisodeReview.userId > User.id
UpvoteEpisodeReview.episodeId > Episode.id
UpvoteEpisodeReview.episodeReviewId > EpisodeReview.id
DownvoteEpisodeReview.userId > User.id
DownvoteEpisodeReview.episodeId > Episode.id
DownvoteEpisodeReview.episodeReviewId > EpisodeReview.id
MovieReview.userId > User.id
MovieReview.movieId > Movie.id
UpvoteMovieReview.userId > User.id
UpvoteMovieReview.movieId > Movie.id
UpvoteMovieReview.movieReviewId > MovieReview.id
DownvoteMovieReview.userId > User.id
DownvoteMovieReview.movieId > Movie.id
DownvoteMovieReview.movieReviewId > MovieReview.id
CastMovie.movieId > Movie.id
CastMovie.actorId > Actor.id
CrewMovie.movieId > Movie.id
CrewMovie.crewId > Crew.id
MovieGenre.movieId > Movie.id
MovieGenre.genreId > Genre.id
Season.serieId > Serie.id
SeasonReview.userId > User.id
SeasonReview.seasonId > Season.id
UpvoteSeasonReview.userId > User.id
UpvoteSeasonReview.seasonId > Season.id
UpvoteSeasonReview.seasonReviewId > SeasonReview.id
DownvoteSeasonReview.userId > User.id
DownvoteSeasonReview.seasonId > Season.id
DownvoteSeasonReview.seasonReviewId > SeasonReview.id
SerieReview.userId > User.id
SerieReview.serieId > Serie.id
UpvoteSerieReview.userId > User.id
UpvoteSerieReview.serieId > Serie.id
UpvoteSerieReview.serieReviewId > SerieReview.id
DownvoteSerieReview.userId > User.id
DownvoteSerieReview.serieId > Serie.id
DownvoteSerieReview.serieReviewId > SerieReview.id
SerieGenre.serieId > Serie.id
SerieGenre.genreId > Genre.id
CastSerie.serieId > Serie.id
CastSerie.actorId > Actor.id
CrewSerie.serieId > Serie.id
CrewSerie.crewId > Crew.id
ActivateToken.userId > User.id
ResetPasswordToken.userId > User.id
Avatar.userId > User.id
UserFollow.followerId > User.id
UserFollow.followingId > User.id
UserInbox.userId > User.id
UserInbox.inboxId > Inbox.id
Message.senderId > User.id
Message.receiverId > User.id
Message.inboxId > Inbox.id
UserMovieRating.userId > User.id
UserMovieRating.movieId > Movie.id
UserSerieRating.userId > User.id
UserSerieRating.serieId > Serie.id
UserSeasonRating.userId > User.id
UserSeasonRating.seasonId > Season.id
UserEpisodeRating.userId > User.id
UserEpisodeRating.episodeId > Episode.id
UserActorRating.userId > User.id
UserActorRating.actorId > Actor.id
UserCrewRating.userId > User.id
UserCrewRating.crewId > Crew.id
UserMovieFavorite.userId > User.id
UserMovieFavorite.movieId > Movie.id
UserGenreFavorite.userId > User.id
UserGenreFavorite.genreId > Genre.id
UserSerieFavorite.userId > User.id
UserSerieFavorite.serieId > Serie.id
UserEpisodeFavorite.userId > User.id
UserEpisodeFavorite.episodeId > Episode.id
UserSeasonFavorite.userId > User.id
UserSeasonFavorite.seasonId > Season.id
UserActorFavorite.userId > User.id
UserActorFavorite.actorId > Actor.id
UserCrewFavorite.userId > User.id
UserCrewFavorite.crewId > Crew.id
Notification.userId > User.id
Notification.senderId > User.id
